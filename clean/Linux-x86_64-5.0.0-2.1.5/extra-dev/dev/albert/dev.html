<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>albert: Error with dependencies üöí</title>
    <link rel="shortcut icon" type="image/png" href="../../../../../favicon.png" />
    <link href="../../../../../bootstrap.min.css" rel="stylesheet">
    <link href="../../../../../bootstrap-custom.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="../../../../../moment.min.js"></script>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
          <div class="navbar-header">
            <a class="navbar-brand" href="../../../../.."><i class="fa fa-lg fa-flag-checkered"></i> Coq bench</a>
          </div>
          <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
              <li><a href="../..">clean / extra-dev</a></li>
              <li class="active"><a href="">dev / albert - dev</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="article">
        <div class="row">
          <div class="col-md-12">
            <a href="../..">¬´ Up</a>
            <h1>
              albert
              <small>
                dev
                <span class="label label-warning">Error with dependencies üöí</span>
              </small>
            </h1>
            <h2>Context</h2>
            <pre># Packages matching: installed
# Name                # Installed # Synopsis
base-bigarray         base
base-domains          base
base-nnp              base        Naked pointers prohibited in the OCaml heap
base-threads          base
base-unix             base
conf-gmp              4           Virtual package relying on a GMP lib system installation
coq                   dev         The Coq Proof Assistant
coq-core              dev         The Coq Proof Assistant -- Core Binaries and Tools
coq-stdlib            dev         The Coq Proof Assistant -- Standard Library
coqide-server         dev         The Coq Proof Assistant, XML protocol server
dune                  3.12.2      Fast, portable, and opinionated build system
ocaml                 5.0.0       The OCaml compiler (virtual package)
ocaml-base-compiler   5.0.0       Official release 5.0.0
ocaml-config          3           OCaml Switch Configuration
ocaml-options-vanilla 1           Ensure that OCaml is compiled with no special options enabled
ocamlfind             1.9.6       A library manager for OCaml
zarith                1.13        Implements arithmetic and logical operations over arbitrary-precision integers
# opam file:
opam-version: &quot;2.0&quot;
synopsis: &quot;A certified compiler for Albert, an intermediate language for compilers targeting Tezos&#39; smart contract language Michelson&quot;
maintainer: &quot;albert@nomadic-labs.com&quot;
authors: [ &quot;Rapha√´l Cauderlier&quot; &quot;Bruno Bernardo&quot; &quot;Julien Tesson&quot; &quot;Arvid Jakobsson&quot; &quot;Basile Pesin&quot; ]
homepage: &quot;https://gitlab.com/nomadic-labs/albert/&quot;
dev-repo: &quot;git+https://gitlab.com/nomadic-labs/albert/&quot;
bug-reports: &quot;https://gitlab.com/nomadic-labs/albert/issues&quot;
license: &quot;MIT&quot;
build: [
  [ make ]
  [ make &quot;test&quot; {with-test} ]
]
install: [ make &quot;install&quot; ]
depends: [
  &quot;dune&quot;
  &quot;ott&quot;
  &quot;menhir&quot;
  &quot;coq&quot; {&gt;= &quot;8.8.2&quot;}
  &quot;coq-ott&quot;
  &quot;coq-menhirlib&quot;
  &quot;coq-mi-cho-coq&quot;
  &quot;coq-list-string&quot;
  &quot;coq-moment&quot; {&gt;= &quot;1.2.0&quot;}
]
description:&quot;&quot;&quot;
Albert is an intermediate smart contract programming language
targeting Michelson, the language for the Tezos blockchain. Albert is
an imperative language with variables and records, abstracting the
Michelson stack. The intent of Albert is to serve as a compilation
target for high-level smart contract programming languages. The linear
type system of Albert ensures that an Albert program, compiled to the
stack-based Michelson language, properly consumes all stack values.
This package contains the ott specification of the language, the
Albert compiler targeting Michelson written in Coq and extracted to OCaml.
&quot;&quot;&quot;
tags: [
  &quot;category:Computer Science/Semantics and Compilation/Compilation&quot;
  &quot;keyword:blockchain&quot;
  &quot;keyword:albert&quot;
  &quot;keyword:semantics&quot;
  &quot;keyword:smart-contract&quot;
  &quot;keyword:tezos&quot;
  &quot;logpath:Albert&quot;
]
url {
  src: &quot;git+https://gitlab.com/nomadic-labs/albert.git#master&quot;
}
</pre>
            <h2>Lint</h2>
            <dl class="dl-horizontal">
              <dt>Command</dt>
              <dd><code>true</code></dd>
              <dt>Return code</dt>
              <dd>0</dd>
            </dl>
            <h2>Dry install üèúÔ∏è</h2>
            <p>Dry install with the current Coq version:</p>
            <dl class="dl-horizontal">
              <dt>Command</dt>
              <dd><code>opam install -y --show-action coq-albert.dev coq.dev</code></dd>
              <dt>Return code</dt>
              <dd>0</dd>
            </dl>
            <p>Dry install without Coq/switch base, to test if the problem was incompatibility with the current Coq/OCaml version:</p>
            <dl class="dl-horizontal">
              <dt>Command</dt>
              <dd><code>true</code></dd>
              <dt>Return code</dt>
              <dd>0</dd>
            </dl>
            <h2>Install dependencies</h2>
            <dl class="dl-horizontal">
              <dt>Command</dt>
              <dd><code>opam list; echo; ulimit -Sv 4000000; timeout 4h opam install -y --deps-only coq-albert.dev coq.dev</code></dd>
              <dt>Return code</dt>
              <dd>7936</dd>
              <dt>Duration</dt>
              <dd>3 m 0 s</dd>
              <dt>Output</dt>
              <dd><pre># Packages matching: installed
# Name                # Installed # Synopsis
base-bigarray         base
base-domains          base
base-nnp              base        Naked pointers prohibited in the OCaml heap
base-threads          base
base-unix             base
conf-gmp              4           Virtual package relying on a GMP lib system installation
coq                   dev         The Coq Proof Assistant
coq-core              dev         The Coq Proof Assistant -- Core Binaries and Tools
coq-stdlib            dev         The Coq Proof Assistant -- Standard Library
coqide-server         dev         The Coq Proof Assistant, XML protocol server
dune                  3.12.2      Fast, portable, and opinionated build system
ocaml                 5.0.0       The OCaml compiler (virtual package)
ocaml-base-compiler   5.0.0       Official release 5.0.0
ocaml-config          3           OCaml Switch Configuration
ocaml-options-vanilla 1           Ensure that OCaml is compiled with no special options enabled
ocamlfind             1.9.6       A library manager for OCaml
zarith                1.13        Implements arithmetic and logical operations over arbitrary-precision integers
The following actions will be performed:
  - install menhirLib           dev
  - install ocamlbuild          0.14.3
  - install menhirSdk           dev
  - install coq-error-handlers  1.2.0
  - install coq-list-plus       1.1.0
  - install conf-ruby           1.0.0
  - install coq-cunit           1.0.0
  - install coq-menhirlib       dev
  - install coq-ott             dev
  - install coq-function-ninjas 1.0.0
  - install stdlib-shims        0.3.0
  - install menhir              dev
  - install coq-list-string     2.1.2
  - install ocamlgraph          2.1.0
  - install coq-moment          1.2.1
  - install ott                 0.33
  - install coq-mi-cho-coq      dev
===== 17 to install =====
&lt;&gt;&lt;&gt; Processing actions &lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;
-&gt; retrieved coq-cunit.1.0.0  (https://github.com/clarus/coq-cunit/archive/1.0.0.tar.gz)
-&gt; installed conf-ruby.1.0.0
-&gt; retrieved coq-error-handlers.1.2.0  (https://github.com/clarus/coq-error-handlers/archive/1.2.0.tar.gz)
-&gt; retrieved coq-function-ninjas.1.0.0  (https://github.com/clarus/coq-function-ninjas/archive/1.0.0.tar.gz)
-&gt; retrieved coq-list-plus.1.1.0  (https://github.com/clarus/coq-list-plus/archive/1.1.0.tar.gz)
-&gt; retrieved coq-list-string.2.1.2  (https://github.com/clarus/coq-list-string/archive/2.1.2.tar.gz)
-&gt; retrieved coq-moment.1.2.1  (https://github.com/clarus/coq-moment/archive/refs/tags/1.21.tar.gz)
[ERROR] The compilation of coq-cunit.1.0.0 failed at &quot;make -j4&quot;.
[ERROR] The compilation of coq-error-handlers.1.2.0 failed at &quot;make -j4&quot;.
[ERROR] The compilation of coq-function-ninjas.1.0.0 failed at &quot;make -j4&quot;.
[ERROR] The compilation of coq-list-plus.1.1.0 failed at &quot;make -j4&quot;.
-&gt; retrieved coq-mi-cho-coq.dev  (git+https://gitlab.com/nomadic-labs/mi-cho-coq.git#master)
-&gt; retrieved coq-ott.dev  (git+https://github.com/ott-lang/ott.git#master)
[ERROR] The compilation of coq-ott.dev failed at &quot;make -j4 -C coq&quot;.
-&gt; retrieved coq-menhirlib.dev  (git+https://gitlab.inria.fr/fpottier/menhir.git#master)
[ERROR] The compilation of coq-menhirlib.dev failed at &quot;make -C coq-menhirlib -j4&quot;.
-&gt; retrieved menhirLib.dev  (git+https://gitlab.inria.fr/fpottier/menhir.git#master)
-&gt; retrieved ocamlbuild.0.14.3  (https://opam.ocaml.org/cache)
-&gt; retrieved ocamlgraph.2.1.0  (https://opam.ocaml.org/cache)
-&gt; retrieved ott.0.33  (https://opam.ocaml.org/cache)
-&gt; retrieved stdlib-shims.0.3.0  (https://opam.ocaml.org/cache)
-&gt; installed stdlib-shims.0.3.0
-&gt; installed menhirLib.dev
-&gt; retrieved menhirSdk.dev  (git+https://gitlab.inria.fr/fpottier/menhir.git#master)
-&gt; installed ocamlgraph.2.1.0
-&gt; installed menhirSdk.dev
-&gt; retrieved menhir.dev  (git+https://gitlab.inria.fr/fpottier/menhir.git#master)
-&gt; installed ott.0.33
-&gt; installed ocamlbuild.0.14.3
-&gt; installed menhir.dev
#=== ERROR while compiling coq-ott.dev ========================================#
# context              2.1.5 | linux/x86_64 | ocaml-base-compiler.5.0.0 | file:///home/bench/run/opam-coq-archive/extra-dev
# path                 ~/.opam/ocaml-base-compiler.5.0.0/.opam-switch/build/coq-ott.dev
# command              ~/.opam/opam-init/hooks/sandbox.sh build make -j4 -C coq
# exit-code            2
# env-file             ~/.opam/log/coq-ott-9260-e8409e.env
# output-file          ~/.opam/log/coq-ott-9260-e8409e.out
### output ###
# [...]
# COQC ott_list_eq_dec.v
# Fatal error: Not enough heap memory to reserve minor heaps
# Fatal error: Not enough heap memory to reserve minor heaps
# Aborted (core dumped)
# make[2]: *** [Makefile.coq:847: ott_list_eq_dec.vo] Error 134
# make[2]: *** Waiting for unfinished jobs....
# Aborted
# make[2]: *** [Makefile.coq:847: ott_list_support.vo] Error 134
# make[1]: *** [Makefile.coq:417: all] Error 2
# make[1]: Leaving directory &#39;/home/bench/.opam/ocaml-base-compiler.5.0.0/.opam-switch/build/coq-ott.dev/coq&#39;
# make: *** [Makefile:2: default] Error 2
# make: Leaving directory &#39;/home/bench/.opam/ocaml-base-compiler.5.0.0/.opam-switch/build/coq-ott.dev/coq&#39;
#=== ERROR while compiling coq-menhirlib.dev ==================================#
# context              2.1.5 | linux/x86_64 | ocaml-base-compiler.5.0.0 | file:///home/bench/run/opam-coq-archive/extra-dev
# path                 ~/.opam/ocaml-base-compiler.5.0.0/.opam-switch/build/coq-menhirlib.dev
# command              ~/.opam/opam-init/hooks/sandbox.sh build make -C coq-menhirlib -j4
# exit-code            2
# env-file             ~/.opam/log/coq-menhirlib-9260-04607f.env
# output-file          ~/.opam/log/coq-menhirlib-9260-04607f.out
### output ###
# [...]
# COQC Version.v
# Fatal error: Not enough heap memory to reserve minor heaps
# Fatal error: Not enough heap memory to reserve minor heaps
# Aborted (core dumped)
# make[3]: *** [CoqMakefile:847: Version.vo] Error 134
# make[3]: *** Waiting for unfinished jobs....
# Aborted
# make[3]: *** [CoqMakefile:847: Alphabet.vo] Error 134
# make[2]: *** [CoqMakefile:417: all] Error 2
# make[1]: *** [Makefile:18: invoke-coqmakefile] Error 2
# make: *** [Makefile:6: all] Error 2
# make: Leaving directory &#39;/home/bench/.opam/ocaml-base-compiler.5.0.0/.opam-switch/build/coq-menhirlib.dev/coq-menhirlib&#39;
#=== ERROR while compiling coq-list-plus.1.1.0 ================================#
# context              2.1.5 | linux/x86_64 | ocaml-base-compiler.5.0.0 | file:///home/bench/run/opam-coq-archive/released
# path                 ~/.opam/ocaml-base-compiler.5.0.0/.opam-switch/build/coq-list-plus.1.1.0
# command              ~/.opam/opam-init/hooks/sandbox.sh build make -j4
# exit-code            2
# env-file             ~/.opam/log/coq-list-plus-9260-c54a80.env
# output-file          ~/.opam/log/coq-list-plus-9260-c54a80.out
### output ###
# [...]
# Fatal error: Not enough heap memory to reserve minor heaps
# Aborted (core dumped)
# COQC src/List.v
# COQC src/Sort.v
# Fatal error: Not enough heap memory to reserve minor heaps
# Fatal error: Not enough heap memory to reserve minor heaps
# Aborted (core dumped)
# make[1]: *** [Makefile:847: src/Sort.vo] Error 134
# make[1]: *** Waiting for unfinished jobs....
# Aborted
# make[1]: *** [Makefile:847: src/List.vo] Error 134
# make: *** [Makefile:417: all] Error 2
#=== ERROR while compiling coq-function-ninjas.1.0.0 ==========================#
# context              2.1.5 | linux/x86_64 | ocaml-base-compiler.5.0.0 | file:///home/bench/run/opam-coq-archive/released
# path                 ~/.opam/ocaml-base-compiler.5.0.0/.opam-switch/build/coq-function-ninjas.1.0.0
# command              ~/.opam/opam-init/hooks/sandbox.sh build make -j4
# exit-code            2
# env-file             ~/.opam/log/coq-function-ninjas-9260-9c34ca.env
# output-file          ~/.opam/log/coq-function-ninjas-9260-9c34ca.out
### output ###
# [...]
# Aborted (core dumped)
# Fatal error: Not enough heap memory to reserve minor heaps
# Aborted (core dumped)
# W: This Makefile was generated by Coq 8.20+alpha
# W: while the current Coq version is 
# Fatal error: Not enough heap memory to reserve minor heaps
# Aborted (core dumped)
# COQC All.v
# Fatal error: Not enough heap memory to reserve minor heaps
# Aborted (core dumped)
# make[1]: *** [Makefile:847: All.vo] Error 134
# make: *** [Makefile:417: all] Error 2
#=== ERROR while compiling coq-error-handlers.1.2.0 ===========================#
# context              2.1.5 | linux/x86_64 | ocaml-base-compiler.5.0.0 | file:///home/bench/run/opam-coq-archive/released
# path                 ~/.opam/ocaml-base-compiler.5.0.0/.opam-switch/build/coq-error-handlers.1.2.0
# command              ~/.opam/opam-init/hooks/sandbox.sh build make -j4
# exit-code            2
# env-file             ~/.opam/log/coq-error-handlers-9260-a4089b.env
# output-file          ~/.opam/log/coq-error-handlers-9260-a4089b.out
### output ###
# [...]
# Aborted (core dumped)
# Fatal error: Not enough heap memory to reserve minor heaps
# Aborted (core dumped)
# W: This Makefile was generated by Coq 8.20+alpha
# W: while the current Coq version is 
# Fatal error: Not enough heap memory to reserve minor heaps
# Aborted (core dumped)
# COQC src/All.v
# Fatal error: Not enough heap memory to reserve minor heaps
# Aborted (core dumped)
# make[1]: *** [Makefile:847: src/All.vo] Error 134
# make: *** [Makefile:417: all] Error 2
#=== ERROR while compiling coq-cunit.1.0.0 ====================================#
# context              2.1.5 | linux/x86_64 | ocaml-base-compiler.5.0.0 | file:///home/bench/run/opam-coq-archive/released
# path                 ~/.opam/ocaml-base-compiler.5.0.0/.opam-switch/build/coq-cunit.1.0.0
# command              ~/.opam/opam-init/hooks/sandbox.sh build make -j4
# exit-code            2
# env-file             ~/.opam/log/coq-cunit-9260-372fd4.env
# output-file          ~/.opam/log/coq-cunit-9260-372fd4.out
### output ###
# [...]
# Aborted (core dumped)
# Fatal error: Not enough heap memory to reserve minor heaps
# Aborted (core dumped)
# W: This Makefile was generated by Coq 8.20+alpha
# W: while the current Coq version is 
# Fatal error: Not enough heap memory to reserve minor heaps
# Aborted (core dumped)
# COQC src/All.v
# Fatal error: Not enough heap memory to reserve minor heaps
# Aborted (core dumped)
# make[1]: *** [Makefile:847: src/All.vo] Error 134
# make: *** [Makefile:417: all] Error 2
&lt;&gt;&lt;&gt; Error report &lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;
+- The following actions failed
| - build coq-cunit           1.0.0
| - build coq-error-handlers  1.2.0
| - build coq-function-ninjas 1.0.0
| - build coq-list-plus       1.1.0
| - build coq-menhirlib       dev
| - build coq-ott             dev
+- 
+- The following changes have been performed (the rest was aborted)
| - install conf-ruby    1.0.0
| - install menhir       dev
| - install menhirLib    dev
| - install menhirSdk    dev
| - install ocamlbuild   0.14.3
| - install ocamlgraph   2.1.0
| - install ott          0.33
| - install stdlib-shims 0.3.0
+- 
# Run eval $(opam env) to update the current shell environment
The former state can be restored with:
    /usr/local/bin/opam switch import &quot;/home/bench/.opam/ocaml-base-compiler.5.0.0/.opam-switch/backup/state-20240113181314.export&quot;
</pre></dd>
            </dl>
            <h2>Install üöÄ</h2>
            <dl class="dl-horizontal">
              <dt>Command</dt>
              <dd><code>true</code></dd>
              <dt>Return code</dt>
              <dd>0</dd>
              <dt>Duration</dt>
              <dd>0 s</dd>
            </dl>
            <h2>Installation size</h2>
            <p>No files were installed.</p>
            <h2>Uninstall üßπ</h2>
            <dl class="dl-horizontal">
              <dt>Command</dt>
              <dd><code>true</code></dd>
              <dt>Return code</dt>
              <dd>0</dd>
              <dt>Missing removes</dt>
              <dd>
                none
              </dd>
              <dt>Wrong removes</dt>
              <dd>
                none
              </dd>
            </dl>
          </div>
        </div>
      </div>
      <hr/>
      <div class="footer">
        <p class="text-center">
          Sources are on <a href="https://github.com/coq-bench">GitHub</a> ¬© Guillaume Claret üê£
        </p>
      </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="../../../../../bootstrap.min.js"></script>
  </body>
</html>
